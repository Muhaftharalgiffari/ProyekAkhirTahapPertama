const CACHE_NAME="story-app-v1",assetsToCache=["./","./index.html","./app.webmanifest","./images/icons/icon-x144.png","./images/icons/maskable-icon-x48.png","./images/icons/maskable-icon-x96.png","./images/icons/maskable-icon-x192.png","./images/icons/maskable-icon-x384.png","./images/icons/maskable-icon-x512.png","./images/screenshots/CityCareApp_001.png","./images/screenshots/CityCareApp_002.png","./images/screenshots/CityCareApp_003.png","./images/screenshots/CityCareApp_004.png","./images/screenshots/CityCareApp_005.png","./images/screenshots/CityCareApp_006.png"];self.addEventListener("install",(e=>{e.waitUntil(caches.open(CACHE_NAME).then((e=>e.addAll(assetsToCache))))})),self.addEventListener("activate",(e=>{e.waitUntil(caches.keys().then((e=>Promise.all(e.filter((e=>e!==CACHE_NAME)).map((e=>caches.delete(e)))))))})),self.addEventListener("fetch",(e=>{e.respondWith(caches.match(e.request).then((s=>{if(s)return s;const n=e.request.clone();return fetch(n).then((s=>{if(!s||200!==s.status||"basic"!==s.type)return s;const n=s.clone();return caches.open(CACHE_NAME).then((s=>{s.put(e.request,n)})),s}))})))}));